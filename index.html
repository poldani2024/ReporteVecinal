<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reportes del Barrio</title>

  <link rel="stylesheet" href="style.css" />

  <!-- Leaflet CSS -->
  <link rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <!-- ==== SDK FIREBASE (COMPATIBLE) ==== -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

  <script>
    // ConfiguraciÃ³n de Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyB6477kA_dp_17XWE2Al8gSAIXRKG_NKSY",
      authDomain: "reportevecinal.firebaseapp.com",
      projectId: "reportevecinal",
      storageBucket: "reportevecinal.firebasestorage.app",
      messagingSenderId: "42320775776",
      appId: "1:42320775776:web:8e5305fba08d19bc8e5105"
    };

    // Inicializar Firebase AL INSTANTE (nunca falla)
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const db   = firebase.firestore();

    console.log("ğŸ”¥ Firebase cargado correctamente");
  </script>
</head>
<body>

  <h2>ğŸ—ºï¸ Reportes del Barrio</h2>

  <div id="userBox">
    <button id="btnLogin">ğŸ” Iniciar sesiÃ³n con Google</button>
    <button id="btnLogout" class="hidden">Cerrar sesiÃ³n</button>
    <p id="userInfo"></p>
  </div>

  <div id="map"></div>

  <button id="btn-ubicacion">ğŸ“ Reportar desde donde estoy</button>

  <form id="report-form" class="hidden">
    <h3>Nuevo reporte</h3>

    <label>Tipo:</label>
    <select id="tipo">
      <option value="Falta de luz">Falta de luz</option>
      <option value="Basura">Basura</option>
      <option value="Bache">Bache</option>
      <option value="Seguridad">Seguridad</option>
      <option value="Ruido">Ruido</option>
      <option value="Otro">Otro</option>
    </select>

    <label>DescripciÃ³n:</label>
    <textarea id="descripcion"></textarea>

    <label>DirecciÃ³n:</label>
    <input type="text" id="direccion" readonly />

    <button type="submit">Guardar reporte</button>
  </form>

  <!-- Leaflet -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

  <!-- Tu lÃ³gica -->
  <script src="script.js"></script>

</body>
</html>
