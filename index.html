
<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta
    name="viewport"
    content="width=device-width, initial-scale=1, viewport-fit=cover"
  />
  <title>üìç Reportes del Barrio</title>

  <link rel="stylesheet" href="style.css" />

  <!-- Leaflet -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
  <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>

  <!-- Firebase (Compat) -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>

  <script src="firebase.js"></script>
</head>
<body>
  <header class="header">
    <h1 class="title">üìç Reportes del Barrio</h1>

    <!-- LOGIN -->
    <div id="login-area" class="login-area">
      <button id="btnLogin">Iniciar sesi√≥n con Google</button>
      <button id="btnLogout" class="hidden">Cerrar sesi√≥n</button>
      <span id="userInfo"></span>
    </div>

    <!-- ADMIN -->
    <a id="link-admin" class="btn-link hidden" href="admin.html">Panel de Administraci√≥n</a>
  </header>

  <!-- Aviso oficial de reclamos (callout) -->
  <section class="callout" role="complementary" aria-label="Aviso importante">
    <div class="callout__icon" aria-hidden="true">
      <!-- √çcono positivo (check) en SVG -->
      <svg viewBox="0 0 24 24" width="32" height="32" role="img" aria-label="Importante">
        <circle cx="12" cy="12" r="11" fill="#FFE0B2" stroke="#C62828" stroke-width="2"></circle>
        <path d="M7 12.5l3 3 7-8" fill="none" stroke="#C62828" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"></path>
      </svg>
    </div>

    <div class="callout__content">
      <h2>Importante para reportar problemas en el barrio</h2>
      <p>
        Para que tu reclamo sea atendido por las autoridades, es fundamental realizar la denuncia en el
        sitio oficial de la Municipalidad de Rold√°n:
        <a class="callout__link" href="https://www.municipalidad.com/rold/reclamos" target="_blank" rel="noopener">https://www.municipalidad.com/rold/reclamos</a>.
      </p>
      <p>
        Una vez ingresado el reclamo, anot√° el n√∫mero y registralo en la app de la vecinal para que podamos
        <strong>juntar todos los reclamos como comunidad</strong>.
      </p>
    </div>
  </section>

  <!-- Mensaje de zona -->
  <div id="zone-warning" class="zone-warning hidden" role="alert">
    ‚ö†Ô∏è La ubicaci√≥n seleccionada est√° fuera de la zona permitida por la vecinal.
    Por favor, eleg√≠ un punto dentro del √°rea habilitada.
  </div>

  <!-- MAPA -->
  <div id="map"></div>
  <button id="btn-ubicacion" class="btn-ubicacion">üìç Usar mi ubicaci√≥n</button>

  <!-- FORMULARIO -->
  <form id="report-form" class="hidden form">
    <h3 id="form-title">Nuevo reporte</h3>

    <label for="tipo">Tipo:</label>
    <select id="tipo">
      <option value="Falta de luz">Falta Iluminaci√≥n (Alumbrado P√∫blico)</option>
      <option value="Basura">Basura</option>
      <option value="Inseguridad">Inseguridad</option>
      <option value="Estado de la Calle">Estado de la Calle</option>
      <option value="Terreno Bald√≠o sin limpiar">Terreno Bald√≠o sin limpiar</option>
      <option value="Otro">Otro</option>
    </select>

    <label for="descripcion">Descripci√≥n:</label>
    <textarea id="descripcion" placeholder="Detall√° qu√© ocurre‚Ä¶"></textarea>

    <label for="direccion">Direcci√≥n:</label>
    <input id="direccion" type="text" placeholder="Se autocompleta al elegir ubicaci√≥n" />

    <!-- N√∫mero municipal -->
    <label for="nroMunicipalidad">N¬∞ de reclamo de la Municipalidad de Rold√°n (opcional):</label>
    <input
      id="nroMunicipalidad"
      type="text"
      inputmode="numeric"
      pattern="^[0-9]{4}/[0-9]{4}-[0-9]{1}$"
      placeholder="Ej: 2025/9999-1"
    />

    <div class="form-actions">
      <button id="btnSubmit" type="submit">Guardar reporte</button>
      <button id="btnCancelEdit" type="button" class="hidden btn-secondary">Cancelar edici√≥n</button>
    </div>
  </form>

  <script src="script.js"></script>
</body>
</html>
